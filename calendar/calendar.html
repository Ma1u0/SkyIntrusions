<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Calendar - Aerial Aggression Tracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Fjalla+One&family=Bebas+Neue&display=swap" rel="stylesheet">

<style>
html, body { margin:0; height:100%; font-family: sans-serif; }

/* Sidebar */
#sidebar {
  position: fixed; top:0; left:0; height:100%; width:250px;
  background: rgba(255,255,255,0.97); box-shadow: 2px 0 10px rgba(0,0,0,0.25);
  z-index:1001; transform: translateX(-250px); transition: transform 0.3s ease;
  font-family: 'Fjalla One', sans-serif; font-size: 24px;
}
#sidebar.sidebar-open { transform: translateX(0); }
#sidebar-content { padding:12px; }
#sidebar a { font-size: 18px; text-decoration:none; color:#000; }

/* Burger menu */
#sidebar-handle {
  position: fixed; left:0; top:20px; width:30px; height:40px;
  background:white; border-radius:0 6px 6px 0;
  display:flex; align-items:center; justify-content:center;
  box-shadow:2px 0 6px rgba(0,0,0,0.3); cursor:pointer;
  font-size:22px; z-index:1002;
}

/* Calendar panel */
#calendar { position:absolute; top:20px; left:270px; right:20px; background:white; border-radius:6px; box-shadow:0 2px 10px rgba(0,0,0,0.3); z-index:1000; padding:10px; }
#calendar-header { display:flex; justify-content:space-between; align-items:center; padding:4px 8px; font-family:'Bebas Neue', sans-serif; font-size:18px; background:#f0f0f0; border-radius:4px; margin-bottom:6px; }
#calendar-grid { display:grid; grid-template-columns:repeat(7,1fr); gap:2px; }
.day { padding:10px; text-align:center; border-radius:4px; cursor:default; background:#fafafa; }
.day:hover { background-color:#ddd; }
</style>
</head>
<body>

<!-- Sidebar -->
<div id="sidebar">
  <div id="sidebar-content">
    <p><a href="index.html">üó∫Ô∏è Map</a></p>
    <p><a href="calendar.html">üìÖ Calendar</a></p>
  </div>
</div>
<div id="sidebar-handle">&#9776;</div>

<!-- Calendar Panel -->
<div id="calendar" class="panel">
  <div id="calendar-header">
    <button id="prevMonth">‚óÄ</button>
    <span id="calendar-month"></span>
    <button id="nextMonth">‚ñ∂</button>
  </div>
  <div id="calendar-grid"></div>
</div>

<script>
// Sidebar toggle
const sidebar = document.getElementById('sidebar');
const handle = document.getElementById('sidebar-handle');
handle.addEventListener('click', e=>{
  sidebar.classList.toggle('sidebar-open');
  e.stopPropagation();
});

// Calendar logic
const calendarEl = document.getElementById('calendar-grid');
const calendarMonthEl = document.getElementById('calendar-month');
let currentDate = new Date(2025,8,1); // September 2025

// Example incidents
const calendarIncidents = [
  { date:'2025-09-15', title:'Drone sighting in Turkey', count:1 },
  { date:'2025-09-18', title:'Multiple drones', count:3 },
  { date:'2025-10-10', title:'Drone crash site in Turkey', count:1 }
];

function renderCalendar(){
  calendarEl.innerHTML='';
  const month = currentDate.getMonth(), year = currentDate.getFullYear();
  const daysInMonth = new Date(year, month+1,0).getDate();
  const monthNames = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  calendarMonthEl.innerText=`${monthNames[month]} ${year}`;

  for(let day=1; day<=daysInMonth; day++){
    const dayEl = document.createElement('div'); 
    dayEl.className='day'; 
    dayEl.innerText=day;

    const fullDate = `${year}-${String(month+1).padStart(2,'0')}-${String(day).padStart(2,'0')}`;
    const dayIncidents = calendarIncidents.filter(inc=>inc.date===fullDate);
    
    if(dayIncidents.length===1) dayEl.style.backgroundColor='orange';
    if(dayIncidents.length>1) dayEl.style.backgroundColor='red';
    
    if(dayIncidents.length>0){
      dayEl.title = dayIncidents.map(i=>i.title).join('\n');
      dayEl.style.cursor='pointer';
      dayEl.addEventListener('click',()=>{
        alert(dayIncidents.map(i=>`${i.title} (${i.count} incident${i.count>1?'s':'')})`).join('\n'));
      });
    }

    calendarEl.appendChild(dayEl);
  }
}

document.getElementById('prevMonth').addEventListener('click',()=>{
  currentDate.setMonth(currentDate.getMonth()-1); renderCalendar();
});
document.getElementById('nextMonth').addEventListener('click',()=>{
  currentDate.setMonth(currentDate.getMonth()+1); renderCalendar();
});

renderCalendar();
</script>

</body>
</html>
