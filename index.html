<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>World Incident Map</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
html, body {
  margin: 0;
  height: 100%;
}
#map {
  height: 100vh;
  width: 100vw;
}
/* Panels styles (filters + legend) */
.panel { position: absolute; background:white; border-radius:6px; box-shadow:0 2px 10px rgba(0,0,0,0.3); font-family:sans-serif; width:200px; z-index:1000; }
.panel-header { display:flex; justify-content:space-between; padding:8px; font-weight:bold; background:#f0f0f0; }
.panel button { background:none; border:none; font-size:16px; cursor:pointer; }
.panel-content { padding:8px; }
.collapsed .panel-content { display:none; }

#filters { bottom:10px; right:10px; }
#legend { top:10px; right:10px; }
.filter-columns { display:flex; gap:20px; }
.filter-columns .filter-column { display:flex; flex-direction:column; gap:4px; }
.filter-column label img { width:24px; height:24px; vertical-align:middle; margin-right:6px; }
.legend-row img { width:28px; height:28px; vertical-align:middle; margin-right:6px; }
.legend-row { margin-bottom:8px; }
</style>
</head>

<body>

<div id="map"></div>

<!-- FILTERS PANEL -->
<div id="filters" class="panel collapsed">
  <div class="panel-header">
    <span>Filters</span>
    <button onclick="togglePanel('filters')">â–¾</button>
  </div>
  <div class="panel-content">
    <div class="filter-columns">
      <!-- Type -->
      <div class="filter-column">
        <label><input type="checkbox" value="drone" checked> <img src="icons/uav.png"> Drones</label>
        <label><input type="checkbox" value="jet" checked> <img src="icons/fighter-plane.png"> Jets</label>
        <label><input type="checkbox" value="balloon" checked> <img src="icons/balloon.png"> Balloons</label>
      </div>
      <!-- Risk -->
      <div class="filter-column">
        <label><input type="checkbox" value="red" checked> ðŸ”´ Incidents confirmed to be caused by Russia</label>
        <label><input type="checkbox" value="orange" checked> ðŸŸ  Incidents suspected to be caused by Russia</label>
        <label><input type="checkbox" value="yellow" checked> ðŸŸ¡ Actor unknown</label>
        <label><input type="checkbox" value="green" checked> ðŸŸ¢ Sightings unverified</label>
        <label><input type="checkbox" value="blue" checked> ðŸ”µ Safety zone breaches</label>
      </div>
      <!-- Location -->
      <div class="filter-column">
        <label><input type="checkbox" value="airports" checked> <img src="icons/airport.png"> Airports</label>
        <label><input type="checkbox" value="militarybases" checked> <img src="icons/soldier.png"> Military bases</label>
        <label><input type="checkbox" value="others" checked> <img src="icons/dot-square.png"> Others</label>
      </div>
    </div>
  </div>
</div>

<!-- LEGEND PANEL -->
<div id="legend" class="panel">
  <div class="panel-header">
    <span>Legend</span>
    <button onclick="togglePanel('legend')">â–¾</button>
  </div>
  <div class="panel-content">
    <div class="legend-row"><img src="icons/uav.png"> Drone</div>
    <div class="legend-row"><img src="icons/fighter-plane.png"> Jet</div>
    <div class="legend-row"><img src="icons/balloon.png"> Balloon</div>
    <div class="legend-row">ðŸ”´ Incident confirmed to be caused by Russia</div>
    <div class="legend-row">ðŸŸ  Incident suspected to be caused by Russia</div>
    <div class="legend-row">ðŸŸ¡ Actor unknoen</div>
    <div class="legend-row">ðŸŸ¢ Sighting unverified</div>
    <div class="legend-row">ðŸ”µ Safety zone breach</div>
  </div>
</div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="map.js"></script>

<script>
function togglePanel(id) {
  document.getElementById(id).classList.toggle('collapsed');
}
</script>

</body>
</html>
